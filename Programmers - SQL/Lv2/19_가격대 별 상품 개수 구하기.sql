/**
 * 1. 문제정보
 *  - 제목 : 가격대 별 상품 개수 구하기
 *  - 링크 : https://school.programmers.co.kr/learn/courses/30/lessons/131530
 *  2. 풀이핵심
 *  - 구간을 나누는 과정
 * 3. 풀이후기
 *  - 1차적으로 CASE END로 했지만, 너무 불필요한것같아 고쳐 더 간결한 코드를 만들었다.
 */
SELECT (P.PRICE - P.PRICE % 10000) AS PRICE_GROUP,
    COUNT(P.PRODUCT_ID) AS PRODUCTS
FROM PRODUCT P
GROUP BY PRICE_GROUP
ORDER BY PRICE_GROUP;

SELECT 
    CASE
        WHEN 0 <= P.PRICE AND P.PRICE < 10000 THEN "0"
        WHEN 10000 <= P.PRICE AND P.PRICE < 20000 THEN "10000"
        WHEN 20000 <= P.PRICE AND P.PRICE < 30000 THEN "20000"
        WHEN 30000 <= P.PRICE AND P.PRICE < 40000 THEN "30000"
        WHEN 40000 <= P.PRICE AND P.PRICE < 50000 THEN "40000"
        WHEN 50000 <= P.PRICE AND P.PRICE < 60000 THEN "50000"
        WHEN 60000 <= P.PRICE AND P.PRICE < 70000 THEN "60000"
        WHEN 70000 <= P.PRICE AND P.PRICE < 80000 THEN "70000"
        WHEN 80000 <= P.PRICE AND P.PRICE < 90000 THEN "80000"
        WHEN 90000 <= P.PRICE AND P.PRICE < 100000 THEN "90000"
    END AS PRICE_GROUP,
    COUNT(P.PRODUCT_ID) AS PRODUCTS
FROM PRODUCT P
GROUP BY PRICE_GROUP
ORDER BY PRICE_GROUP;